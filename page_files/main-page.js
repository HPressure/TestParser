(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1145:function(t,e,r){"use strict";var a=r(809),n=r.n(a);e.default=n.a},1146:function(t,e,r){"use strict";var a=r(810),n=r.n(a);e.default=n.a},1147:function(t,e,r){"use strict";var a=r(811),n=r.n(a);e.default=n.a},1148:function(t,e,r){"use strict";var a=r(812),n=r.n(a);e.default=n.a},1149:function(t,e,r){"use strict";var a=r(813),n=r.n(a);e.default=n.a},1150:function(t,e,r){"use strict";var a=r(814),n=r.n(a);e.default=n.a},1270:function(t,e,r){"use strict";r.r(e);r(22);var a=r(1),n=r(632),s=r(664),i=r(918),o=r(633),c=r(7),l=r(623),u=r(34),p=r(61),d={name:"SupercoverRecord",components:{JtnUiTypography:l.a},mixins:[u.a,p.a],props:{data:{type:Object,default:function(){return{header:"",id:0,urls:{url:""}}}},params:{type:Object,default:function(){return{label_title:""}}}},computed:{label:function(){return this.params.label_title?this.params.label_title:""},titleType:function(){return this.store.deviceInfo.isMobile?"font-videoday-type-1":"font-super-news-title"}},methods:{clickTitle:function(t,e){this.$emit("click-title"),this.routerPush(t,e)}}},h=r(1145),f=r(3);var m=Object(f.a)(d,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.$style["supercover-record"]},[r("jtn-ui-typography",{class:e.$style.title,attrs:{href:e.data.urls.url,tag:"a",type:e.titleType,"link-type":"link-white-type-2"},on:{click:function(t){return e.clickTitle(t,e.data.urls.url)}}},[r("span",{domProps:{innerHTML:e._s(e.data.header)}})]),e.label?r("jtn-ui-typography",{class:e.$style.label,attrs:{tag:"span",type:"font-online-marker"}},[e._v(" "+e._s(e.label)+" ")]):e._e()],1)},[],!1,function(t){this.$style=h.default.locals||h.default},null,null).exports,v=r(629),y={name:"SupercoverBackground",props:{data:{type:Object,default:function(){return{}}}},data:function(){return{width:0}},computed:{imageUrl:function(){return this.width?Object(v.a)(this.data,!1,this.width):""}},mounted:function(){this.setWidth()},methods:{setWidth:function(){var t=this.$refs.background.offsetWidth||1200;t<600&&(t=600),1200<t&&(t=1200),this.width=t}}},k=r(1146);var b=Object(f.a)(y,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"background",class:this.$style["supercover-background"],style:{backgroundImage:"url("+this.imageUrl+")"}})},[],!1,function(t){this.$style=k.default.locals||k.default},null,null).exports,g=r(622),$={name:"SupercoverTheme",components:{JtnUiTypography:l.a,JtnUiDefaultBtn:g.a},mixins:[u.a],props:{data:{type:Object,default:function(){return{id:0,link:"",records:[],title:""}}},params:{type:Object,default:function(){return{button_title:""}}}},methods:{clickTheme:function(t,e){this.$emit("click-theme"),this.routerPush(t,e)},clickShowMore:function(t,e){this.$emit("click-show-more"),this.routerPush(t,e)}}},_=r(1147);var w=Object(f.a)($,function(){var r=this,t=r.$createElement,a=r._self._c||t;return a("div",{class:r.$style["supercover-theme"]},[a("jtn-ui-typography",{class:r.$style.title,attrs:{tag:"div",type:"font-vijet-title"}},[a("h3",{domProps:{innerHTML:r._s(r.data.title)}})]),a("ul",{class:r.$style.records},r._l(r.data.records,function(e){return a("li",{key:e.id,class:r.$style.record},[a("jtn-ui-typography",{class:r.$style.time,attrs:{tag:"time",type:"font-forum-type-1",datetime:e.publishAt}},[r._v(" "+r._s(e.publishAt)+" ")]),a("jtn-ui-typography",{class:r.$style.record,attrs:{tag:"p",type:"font-vijet-type-1","link-type":"link-white-type-2"}},[a("a",{attrs:{href:e.urls.url,target:"_blank"},domProps:{innerHTML:r._s(e.header)},on:{click:function(t){return r.clickTheme(t,e.urls.url)}}})])],1)}),0),r.params.button_title?a("jtn-ui-default-btn",{class:r.$style["more-records"],attrs:{text:r.params.button_title,url:r.data.link,target:"_blank"},on:{click:function(t){return r.clickShowMore(t,r.data.link)}}}):r._e()],1)},[],!1,function(t){this.$style=_.default.locals||_.default},null,null).exports,M={name:"SupercoverLinks",components:{ResponsiveList:r(391).a},props:{data:{type:Array,default:function(){return[{path:"",title:""}]}},params:{type:Object,default:function(){return{}}}},mixins:[p.a],computed:{isMobile:function(){return this.store.deviceInfo.isMobile&&!this.store.deviceInfo.isTablet}}},j=r(1148);var x={name:"Supercover",dependencies:["analyticsService"],components:{SupercoverRecord:m,SupercoverBackground:b,SupercoverTheme:w,SupercoverLinks:Object(f.a)(M,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.$style["supercover-links"]},[r("responsive-list",{class:e.$style.list,attrs:{type:"supercover",data:{data:e.data,params:e.params},"is-mobile":e.isMobile},on:{"show-more-links":function(t){return e.$emit("show-more-links")},"click-link":function(t){return e.$emit("click-link")}}})],1)},[],!1,function(t){this.$style=j.default.locals||j.default},null,null).exports},mixins:[c.b],props:{data:{type:Object,default:function(){return{image:null,links:[],record:null,theme:null}}},params:{type:Object,default:function(){return{record:null,theme:null,links:null}}}},computed:{isMobile:function(){return this.store.deviceInfo.isMobile&&!this.store.deviceInfo.isTablet}},methods:{sendGA:function(t){this.analyticsService.sendGA(this.store.pageType,{label:{clickTitle:"Суперобложка: клик на онлайн",clickTheme:"Суперобложка: клик на новость в сюжете",clickShowMore:"Суперобложка: клик на показать еще",clickLink:"Суперобложка: клик на ссылку внизу",showMoreLinks:"Суперобложка: клик на многоточие в ссылках внизу"}[t]})}}},T=r(1149);var A,F=Object(f.a)(x,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.$style.supercover},[e.data.image&&!e.isMobile?r("supercover-background",{attrs:{data:e.data.image}}):e._e(),r("div",{class:e.$style.content},[r("div",{class:[e.$style.center,e.$style[e.data.theme?"with-right-column":""]]},[e.data.image&&e.isMobile?r("supercover-background",{attrs:{data:e.data.image}}):e._e(),e.data.record?r("supercover-record",{attrs:{data:e.data.record,params:e.params.record},on:{"click-title":function(t){return e.sendGA("clickTitle")}}}):e._e(),0<e.data.links.length?r("supercover-links",{attrs:{data:e.data.links,params:e.params.links},on:{"click-link":function(t){return e.sendGA("clickLink")},"show-more-links":function(t){return e.sendGA("showMoreLinks")}}}):e._e()],1),e.data.theme?r("div",{class:e.$style.right},[r("supercover-theme",{attrs:{data:e.data.theme,params:e.params.theme},on:{"click-theme":function(t){return e.sendGA("clickTheme")},"click-show-more":function(t){return e.sendGA("clickShowMore")}}})],1):e._e()])],1)},[],!1,function(t){this.$style=T.default.locals||T.default},null,null).exports,O=r(634),S=r(628),L={name:"MainPage",components:{AppLayout:n.a,AppLeftColumn:s.a,AppCentralColumn:i.a,AppRightColumn:o.a,Supercover:F},mixins:[S.a,O.a],computed:{dataFetching:function(){return this.store.dataFetching},supercover:function(){return this.store.layoutModule?this.store.layoutModule.superCover:null},supercoverData:function(){return this.supercover?this.supercover.data:null},supercoverParams:function(){return this.supercover?this.supercover.params:null}},created:function(){this.store.setPageType("main")},beforeMount:function(){"#auth"===this.$route.hash&&setTimeout(this.openAuthModal),this.$root._isMounted&&this.updatePage()},mounted:function(){var t=this;this.$nextTick(function(){"#auth"===t.$route.hash&&t.openAuthModal()})},methods:{updatePage:(A=Object(a.a)(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.store.pagesModule.fetchMainPageData();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),this.store.emitRequestError(t.t0);case 8:case"end":return t.stop()}},t,this,[[0,5]])})),function(){return A.apply(this,arguments)}),openAuthModal:function(){this.$modal.show("auth-modal")}}},P=r(1150);var E=Object(f.a)(L,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.$style["main-page"]},[r("app-layout",[t.supercoverData?r("supercover",{ref:"supercover",attrs:{slot:"layout-header",data:t.supercoverData,params:t.supercoverParams},slot:"layout-header"}):t._e(),r("template",{slot:"left-column"},[r("app-left-column")],1),r("template",{slot:"central-column"},[r("app-central-column")],1),r("template",{slot:"right-column"},[r("app-right-column",{class:t.$style[t.supercoverData?"with-supercover":""]})],1)],2)],1)},[],!1,function(t){this.$style=P.default.locals||P.default},null,null);e.default=E.exports},809:function(t,e,r){t.exports={"supercover-record":"FJacl",title:"FJn",label:"FJp"}},810:function(t,e,r){t.exports={"supercover-background":"FPacz"}},811:function(t,e,r){t.exports={"supercover-theme":"FNacp",title:"FNn",records:"FNacr",record:"FNact",time:"FNacv","more-records":"FNacx"}},812:function(t,e,r){t.exports={"supercover-links":"FLacn",list:"FLfj"}},813:function(t,e,r){t.exports={supercover:"EHfb",content:"EHcr",center:"EHyr","with-right-column":"EHyt",right:"EHg-"}},814:function(t,e,r){t.exports={"main-page":"AFdp","with-supercover":"AFdr"}}}]);
//# sourceMappingURL=main-page.9eb35b7.js.map